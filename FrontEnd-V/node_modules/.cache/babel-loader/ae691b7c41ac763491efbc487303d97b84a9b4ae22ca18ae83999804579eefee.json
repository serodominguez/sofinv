{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_data_table = _resolveComponent(\"v-data-table\");\n  const _component_BrandForm = _resolveComponent(\"BrandForm\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_createVNode(_component_v_btn, {\n      onClick: $options.openModal\n    }, {\n      default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"Agregar Marca\")])),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_data_table, {\n      headers: $data.headers,\n      items: _ctx.brands,\n      loading: _ctx.loading\n    }, {\n      \"item.actions\": _withCtx(({\n        item\n      }) => [_createVNode(_component_v_btn, {\n        onClick: $event => $options.editBrand(item)\n      }, {\n        default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"Editar\")])),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_v_btn, {\n        onClick: $event => $options.deleteBrand(item.pK_BRAND)\n      }, {\n        default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"Eliminar\")])),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"headers\", \"items\", \"loading\"]), _createVNode(_component_BrandForm, {\n      modelValue: $data.modal,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.modal = $event),\n      brand: $data.selectedBrand,\n      onSaved: _ctx.fetchBrands\n    }, null, 8 /* PROPS */, [\"modelValue\", \"brand\", \"onSaved\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","default","_withCtx","_createVNode","_component_v_btn","onClick","$options","openModal","_cache","_createTextVNode","_","_component_v_data_table","headers","$data","items","_ctx","brands","loading","item","$event","editBrand","deleteBrand","pK_BRAND","_component_BrandForm","modelValue","modal","brand","selectedBrand","onSaved","fetchBrands"],"sources":["C:\\Users\\Sergio\\Desktop\\SOFINV\\FrontEnd\\src\\components\\Brand\\BrandList.vue"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <v-btn @click=\"openModal\">Agregar Marca</v-btn>\r\n    <v-data-table :headers=\"headers\" :items=\"brands\" :loading=\"loading\">\r\n  <template v-slot:item.actions=\"{ item }\">\r\n    <v-btn @click=\"editBrand(item)\">Editar</v-btn>\r\n    <v-btn @click=\"deleteBrand(item.pK_BRAND)\">Eliminar</v-btn>\r\n  </template>\r\n</v-data-table>\r\n    <BrandForm v-model=\"modal\" :brand=\"selectedBrand\" @saved=\"fetchBrands\" />\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex';\r\nimport BrandForm from './BrandForm.vue';\r\n\r\nexport default {\r\n  components: { BrandForm },\r\n  data() {\r\n    return {\r\n      modal: false,\r\n      selectedBrand: null,\r\n      headers: [\r\n        { text: 'Marca', value: 'branD_NAME' },\r\n        { text: 'Estado', value: 'status' },\r\n        { text: 'Acciones', value: 'actions', sortable: false },\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('brand', ['brands', 'loading']),\r\n\r\n  },\r\n  methods: {\r\n    ...mapActions('brand', ['fetchBrands', 'deleteBrand']),\r\n    openModal() {\r\n      this.selectedBrand = { pK_BRAND: null, branD_NAME: '',status: 'ACTIVO' };\r\n      this.modal = true;\r\n    },\r\n    editBrand(brand) {\r\n      this.selectedBrand = { ...brand }; // Clonamos el objeto para evitar mutaciones directas\r\n      this.modal = true;\r\n    },\r\n    async deleteBrand(id) {\r\n      const confirmDelete = confirm('¿Estás seguro de que deseas eliminar esta marca?');\r\n      if (confirmDelete) {\r\n        await this.deleteBrand(id);\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchBrands();\r\n  },\r\n};\r\n</script>"],"mappings":";;;;;;uBACEA,YAAA,CAScC,sBAAA;IAVhBC,OAAA,EAAAC,QAAA,CAEI,MAA+C,CAA/CC,YAAA,CAA+CC,gBAAA;MAAvCC,OAAK,EAAEC,QAAA,CAAAC;IAAS;MAF5BN,OAAA,EAAAC,QAAA,CAE8B,MAAaM,MAAA,QAAAA,MAAA,OAF3CC,gBAAA,CAE8B,eAAa,E;MAF3CC,CAAA;oCAGIP,YAAA,CAKWQ,uBAAA;MALIC,OAAO,EAAEC,KAAA,CAAAD,OAAO;MAAGE,KAAK,EAAEC,IAAA,CAAAC,MAAM;MAAGC,OAAO,EAAEF,IAAA,CAAAE;;MAC5C,cAAY,EAAAf,QAAA,CAC3B,CAA8C;QADfgB;MAAI,OACnCf,YAAA,CAA8CC,gBAAA;QAAtCC,OAAK,EAAAc,MAAA,IAAEb,QAAA,CAAAc,SAAS,CAACF,IAAI;;QALjCjB,OAAA,EAAAC,QAAA,CAKoC,MAAMM,MAAA,QAAAA,MAAA,OAL1CC,gBAAA,CAKoC,QAAM,E;QAL1CC,CAAA;wDAMIP,YAAA,CAA2DC,gBAAA;QAAnDC,OAAK,EAAAc,MAAA,IAAEb,QAAA,CAAAe,WAAW,CAACH,IAAI,CAACI,QAAQ;;QAN5CrB,OAAA,EAAAC,QAAA,CAM+C,MAAQM,MAAA,QAAAA,MAAA,OANvDC,gBAAA,CAM+C,UAAQ,E;QANvDC,CAAA;;MAAAA,CAAA;wDASIP,YAAA,CAAyEoB,oBAAA;MAT7EC,UAAA,EASwBX,KAAA,CAAAY,KAAK;MAT7B,uBAAAjB,MAAA,QAAAA,MAAA,MAAAW,MAAA,IASwBN,KAAA,CAAAY,KAAK,GAAAN,MAAA;MAAGO,KAAK,EAAEb,KAAA,CAAAc,aAAa;MAAGC,OAAK,EAAEb,IAAA,CAAAc;;IAT9DnB,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}