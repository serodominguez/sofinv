{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_data_table = _resolveComponent(\"v-data-table\");\n  const _component_BrandModal = _resolveComponent(\"BrandModal\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    default: _withCtx(() => [_createVNode(_component_v_btn, {\n      onClick: $options.openModal\n    }, {\n      default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"Agregar Marca\")])),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_data_table, {\n      headers: $options.headers,\n      items: _ctx.brands,\n      loading: _ctx.loading\n    }, {\n      \"item.actions\": _withCtx(({\n        item\n      }) => [_createVNode(_component_v_btn, {\n        onClick: $event => $options.editBrand(item)\n      }, {\n        default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"Editar\")])),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_v_btn, {\n        onClick: $event => $options.deleteBrand(item.pK_BRAND)\n      }, {\n        default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"Eliminar\")])),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"headers\", \"items\", \"loading\"]), _createVNode(_component_BrandModal, {\n      modelValue: $data.modal,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.modal = $event),\n      brand: $data.selectedBrand,\n      onSaved: _ctx.fetchBrands\n    }, null, 8 /* PROPS */, [\"modelValue\", \"brand\", \"onSaved\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","default","_withCtx","_createVNode","_component_v_btn","onClick","$options","openModal","_cache","_createTextVNode","_","_component_v_data_table","headers","items","_ctx","brands","loading","item","$event","editBrand","deleteBrand","pK_BRAND","_component_BrandModal","modelValue","$data","modal","brand","selectedBrand","onSaved","fetchBrands"],"sources":["C:\\Users\\Sergio\\Desktop\\SOFINV\\FrontEnd\\src\\components\\BrandList.vue"],"sourcesContent":["<template>\r\n    <v-container>\r\n      <v-btn @click=\"openModal\">Agregar Marca</v-btn>\r\n      <v-data-table :headers=\"headers\" :items=\"brands\" :loading=\"loading\">\r\n        <template v-slot:item.actions=\"{ item }\">\r\n          <v-btn @click=\"editBrand(item)\">Editar</v-btn>\r\n          <v-btn @click=\"deleteBrand(item.pK_BRAND)\">Eliminar</v-btn>\r\n        </template>\r\n      </v-data-table>\r\n      <BrandModal v-model=\"modal\" :brand=\"selectedBrand\" @saved=\"fetchBrands\" />\r\n    </v-container>\r\n  </template>\r\n  \r\n  <script>\r\n  import { mapGetters, mapActions } from 'vuex';\r\n  import BrandModal from './BrandModal.vue';\r\n  \r\n  export default {\r\n    components: { BrandModal },\r\n    data() {\r\n      return {\r\n        modal: false,\r\n        selectedBrand: null,\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapGetters('brand', ['brands', 'loading']),\r\n      headers() {\r\n        return [\r\n          { text: 'ID', value: 'pK_BRAND' },\r\n          { text: 'Nombre', value: 'branD_NAME' },\r\n          { text: 'Estado', value: 'status' },\r\n          { text: 'Acciones', value: 'actions', sortable: false },\r\n        ];\r\n      },\r\n    },\r\n    methods: {\r\n      ...mapActions('brand', ['fetchBrands', 'deleteBrand']),\r\n      openModal() {\r\n        this.selectedBrand = { pK_BRAND: null, branD_NAME: '', STATUS: true };\r\n        this.modal = true;\r\n      },\r\n      editBrand(brand) {\r\n        this.selectedBrand = { ...brand }; // Clonamos el objeto para evitar mutaciones directas\r\n        this.modal = true;\r\n      },\r\n      async deleteBrand(id) {\r\n        const confirmDelete = confirm('¿Estás seguro de que deseas eliminar esta marca?');\r\n        if (confirmDelete) {\r\n          await this.deleteBrand(id);\r\n        }\r\n      },\r\n    },\r\n    mounted() {\r\n      this.fetchBrands();\r\n    },\r\n  };\r\n  </script>"],"mappings":";;;;;;uBACIA,YAAA,CAScC,sBAAA;IAVlBC,OAAA,EAAAC,QAAA,CAEM,MAA+C,CAA/CC,YAAA,CAA+CC,gBAAA;MAAvCC,OAAK,EAAEC,QAAA,CAAAC;IAAS;MAF9BN,OAAA,EAAAC,QAAA,CAEgC,MAAaM,MAAA,QAAAA,MAAA,OAF7CC,gBAAA,CAEgC,eAAa,E;MAF7CC,CAAA;oCAGMP,YAAA,CAKeQ,uBAAA;MALAC,OAAO,EAAEN,QAAA,CAAAM,OAAO;MAAGC,KAAK,EAAEC,IAAA,CAAAC,MAAM;MAAGC,OAAO,EAAEF,IAAA,CAAAE;;MACxC,cAAY,EAAAd,QAAA,CAC3B,CAA8C;QADfe;MAAI,OACnCd,YAAA,CAA8CC,gBAAA;QAAtCC,OAAK,EAAAa,MAAA,IAAEZ,QAAA,CAAAa,SAAS,CAACF,IAAI;;QALvChB,OAAA,EAAAC,QAAA,CAK0C,MAAMM,MAAA,QAAAA,MAAA,OALhDC,gBAAA,CAK0C,QAAM,E;QALhDC,CAAA;wDAMUP,YAAA,CAA2DC,gBAAA;QAAnDC,OAAK,EAAAa,MAAA,IAAEZ,QAAA,CAAAc,WAAW,CAACH,IAAI,CAACI,QAAQ;;QANlDpB,OAAA,EAAAC,QAAA,CAMqD,MAAQM,MAAA,QAAAA,MAAA,OAN7DC,gBAAA,CAMqD,UAAQ,E;QAN7DC,CAAA;;MAAAA,CAAA;wDASMP,YAAA,CAA0EmB,qBAAA;MAThFC,UAAA,EAS2BC,KAAA,CAAAC,KAAK;MAThC,uBAAAjB,MAAA,QAAAA,MAAA,MAAAU,MAAA,IAS2BM,KAAA,CAAAC,KAAK,GAAAP,MAAA;MAAGQ,KAAK,EAAEF,KAAA,CAAAG,aAAa;MAAGC,OAAK,EAAEd,IAAA,CAAAe;;IATjEnB,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}